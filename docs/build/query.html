
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Functions for Requesting Data from the Census API &#8212; get_census 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Stored Data Files" href="cached_data.html" />
    <link rel="prev" title="Census Metadata Functions" href="census_info.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-get_census.query">
<span id="functions-for-requesting-data-from-the-census-api"></span><h1>Functions for Requesting Data from the Census API<a class="headerlink" href="#module-get_census.query" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="get_census.query.api_geography">
<code class="sig-prename descclassname"><span class="pre">get_census.query.</span></code><code class="sig-name descname"><span class="pre">api_geography</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_census/query.html#api_geography"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_census.query.api_geography" title="Permalink to this definition">¶</a></dt>
<dd><p>go from function shorthand to the input the census api needs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geo</strong> – shorthand for a given geography type</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>corrected geography name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="get_census.query.choose_sum_file">
<code class="sig-prename descclassname"><span class="pre">get_census.query.</span></code><code class="sig-name descname"><span class="pre">choose_sum_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_census/query.html#choose_sum_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_census.query.choose_sum_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function, not exported
If we’re querying the 2000 US census, and we’re not sure which summary file to
use, we need to check to see if the variables listed are available in sf1. If they
are, we use sf1, if not we use sf3.</p>
</dd></dl>

<dl class="py function">
<dt id="get_census.query.clean_acs_vars">
<code class="sig-prename descclassname"><span class="pre">get_census.query.</span></code><code class="sig-name descname"><span class="pre">clean_acs_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_census/query.html#clean_acs_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_census.query.clean_acs_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the estimate value is specified for a list of ACS variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>variables</strong> – list of strings ccontaining the variable names to request</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of strings containing ACS vars, postpended with an “E”
(where not previously postended)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="get_census.query.get_census_data">
<code class="sig-prename descclassname"><span class="pre">get_census.query.</span></code><code class="sig-name descname"><span class="pre">get_census_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geography</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_file</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">county</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_census/query.html#get_census_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_census.query.get_census_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> – Year of data that we are querying</p></li>
<li><p><strong>variables</strong> – list of strings containing the census variable names to request</p></li>
<li><p><strong>geography</strong> – Geographic resolution we’re querying at (zcta, county, state)</p></li>
<li><p><strong>dataset</strong> – The census data set you want (dec, acs1, acs5, pums)</p></li>
<li><p><strong>sum_file</strong> – For the 2000 census, sf1 or sf3</p></li>
<li><p><strong>key</strong> – Your census API key. We recommend not passing it here and instead either setting
the “GET_CENSUS_API_KEY” environmental variable or using the <cite>set_api_key</cite> function.</p></li>
<li><p><strong>state</strong> – 2 digit FIPS code of the state you want to limit the query to (i.e. “06” for CA)</p></li>
<li><p><strong>county</strong> – 3 digit FIPS code of the county you want to include. Requires state to be specified</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="get_census.query.prep_vars">
<code class="sig-prename descclassname"><span class="pre">get_census.query.</span></code><code class="sig-name descname"><span class="pre">prep_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_census/query.html#prep_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_census.query.prep_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from a list to a comma separated string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>variables</strong> – list of vars</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>comma separated string</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">get_census</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="assemble_data.html">DataPlan: Main Class For Assembling a Census Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="census_info.html">Census Metadata Functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Functions for Requesting Data from the Census API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cached_data.html">Stored Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="tigerweb.html">Query Area and Download Shapefiles</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="census_info.html" title="previous chapter">Census Metadata Functions</a></li>
      <li>Next: <a href="cached_data.html" title="next chapter">Stored Data Files</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Ben Sabath.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/query.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>